{"remainingRequest":"/Volumes/Application/bookshop/bookshop-vue/node_modules/babel-loader/lib/index.js!/Volumes/Application/bookshop/bookshop-vue/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Volumes/Application/bookshop/bookshop-vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/Application/bookshop/bookshop-vue/src/fore/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Volumes/Application/bookshop/bookshop-vue/src/fore/Login.vue","mtime":1664395825116},{"path":"/Volumes/Application/bookshop/bookshop-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/Application/bookshop/bookshop-vue/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Volumes/Application/bookshop/bookshop-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/Application/bookshop/bookshop-vue/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiTG9naW4iLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHZhciBjaGVja05hbWUgPSBmdW5jdGlvbiBjaGVja05hbWUocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSB7CiAgICAgIGlmICghdmFsdWUpIHsKICAgICAgICByZXR1cm4gY2FsbGJhY2sobmV3IEVycm9yKCfnlKjmiLflkI3kuI3og73kuLrnqbonKSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY2FsbGJhY2soKTsKICAgICAgfQogICAgfTsKCiAgICB2YXIgdmFsaWRhdGVQYXNzID0gZnVuY3Rpb24gdmFsaWRhdGVQYXNzKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgewogICAgICBpZiAodmFsdWUgPT09ICcnKSB7CiAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCfor7fovpPlhaXlr4bnoIEnKSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKF90aGlzLnVzZXIucmVwZWF0UGFzc3dvcmQgIT09ICcnKSB7CiAgICAgICAgICBfdGhpcy4kcmVmcy5ydWxlRm9ybS52YWxpZGF0ZUZpZWxkKCdjaGVja1Bhc3MnKTsKICAgICAgICB9CgogICAgICAgIGNhbGxiYWNrKCk7CiAgICAgIH0KICAgIH07CgogICAgcmV0dXJuIHsKICAgICAgdXJpOiAibG9naW4iLAogICAgICB1c2VyOiB7CiAgICAgICAgbmFtZTogJycsCiAgICAgICAgcGFzc3dvcmQ6ICcnLAogICAgICAgIHJlcGVhdFBhc3N3b3JkOiAnJwogICAgICB9LAogICAgICBjaGVja2VkOiBmYWxzZSwKICAgICAgcnVsZXM6IHsKICAgICAgICBuYW1lOiBbewogICAgICAgICAgdmFsaWRhdG9yOiBjaGVja05hbWUsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XSwKICAgICAgICBwYXNzd29yZDogW3sKICAgICAgICAgIHZhbGlkYXRvcjogdmFsaWRhdGVQYXNzLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0KICAgICAgfQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGhhbmRsZUxvZ2luOiBmdW5jdGlvbiBoYW5kbGVMb2dpbigpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLiRyZWZzWyd1c2VyJ10udmFsaWRhdGUoZnVuY3Rpb24gKHZhbGlkKSB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICBfdGhpczIuYXhpb3MucG9zdChfdGhpczIudXJpLCB7CiAgICAgICAgICAgIG5hbWU6IF90aGlzMi51c2VyLm5hbWUsCiAgICAgICAgICAgIHBhc3N3b3JkOiBfdGhpczIudXNlci5wYXNzd29yZAogICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgndXNlcicsIF90aGlzMi51c2VyLm5hbWUpOwoKICAgICAgICAgICAgICBfdGhpczIuJG1lc3NhZ2UoJ+eZu+W9leaIkOWKn++8gScpOwoKICAgICAgICAgICAgICBfdGhpczIuJHJvdXRlci5wdXNoKCcvJyk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgX3RoaXMyLiRhbGVydCgn6LSm5Y+35oiW5a+G56CB6ZSZ6K+vJywgJ2luZm8nLCB7CiAgICAgICAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ29rJwogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBfdGhpczIuJHJlZnNbJ2Zvcm0nXS5yZXNldEZpZWxkcygpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmCA,eAAA;AACA,EAAA,IAAA,EAAA,OADA;AAEA,EAAA,IAFA,kBAEA;AAAA;;AACA,QAAA,SAAA,GAAA,SAAA,SAAA,CAAA,IAAA,EAAA,KAAA,EAAA,QAAA,EAAA;AACA,UAAA,CAAA,KAAA,EAAA;AACA,eAAA,QAAA,CAAA,IAAA,KAAA,CAAA,SAAA,CAAA,CAAA;AACA,OAFA,MAEA;AACA,QAAA,QAAA;AACA;AACA,KANA;;AAOA,QAAA,YAAA,GAAA,SAAA,YAAA,CAAA,IAAA,EAAA,KAAA,EAAA,QAAA,EAAA;AACA,UAAA,KAAA,KAAA,EAAA,EAAA;AACA,QAAA,QAAA,CAAA,IAAA,KAAA,CAAA,OAAA,CAAA,CAAA;AACA,OAFA,MAEA;AACA,YAAA,KAAA,CAAA,IAAA,CAAA,cAAA,KAAA,EAAA,EAAA;AACA,UAAA,KAAA,CAAA,KAAA,CAAA,QAAA,CAAA,aAAA,CAAA,WAAA;AACA;;AACA,QAAA,QAAA;AACA;AACA,KATA;;AAUA,WAAA;AACA,MAAA,GAAA,EAAA,OADA;AAEA,MAAA,IAAA,EAAA;AACA,QAAA,IAAA,EAAA,EADA;AAEA,QAAA,QAAA,EAAA,EAFA;AAGA,QAAA,cAAA,EAAA;AAHA,OAFA;AAOA,MAAA,OAAA,EAAA,KAPA;AAQA,MAAA,KAAA,EAAA;AACA,QAAA,IAAA,EAAA,CACA;AAAA,UAAA,SAAA,EAAA,SAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SADA,CADA;AAIA,QAAA,QAAA,EAAA,CACA;AAAA,UAAA,SAAA,EAAA,YAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SADA;AAJA;AARA,KAAA;AAiBA,GArCA;AAsCA,EAAA,OAAA,EAAA;AACA,IAAA,WADA,yBACA;AAAA;;AACA,WAAA,KAAA,CAAA,MAAA,EAAA,QAAA,CAAA,UAAA,KAAA,EAAA;AACA,YAAA,KAAA,EAAA;AACA,UAAA,MAAA,CAAA,KAAA,CAAA,IAAA,CAAA,MAAA,CAAA,GAAA,EAAA;AACA,YAAA,IAAA,EAAA,MAAA,CAAA,IAAA,CAAA,IADA;AAEA,YAAA,QAAA,EAAA,MAAA,CAAA,IAAA,CAAA;AAFA,WAAA,EAIA,IAJA,CAIA,UAAA,QAAA,EAAA;AACA,gBAAA,QAAA,CAAA,IAAA,CAAA,IAAA,KAAA,GAAA,EAAA;AACA,cAAA,cAAA,CAAA,OAAA,CAAA,MAAA,EAAA,MAAA,CAAA,IAAA,CAAA,IAAA;;AACA,cAAA,MAAA,CAAA,QAAA,CAAA,OAAA;;AACA,cAAA,MAAA,CAAA,OAAA,CAAA,IAAA,CAAA,GAAA;AACA,aAJA,MAIA;AACA,cAAA,MAAA,CAAA,MAAA,CAAA,SAAA,EAAA,MAAA,EAAA;AACA,gBAAA,iBAAA,EAAA;AADA,eAAA;;AAGA,cAAA,MAAA,CAAA,KAAA,CAAA,MAAA,EAAA,WAAA;AACA;AACA,WAfA;AAgBA,SAjBA,MAiBA;AACA,iBAAA,KAAA;AACA;AACA,OArBA;AAsBA;AAxBA;AAtCA,CAAA","sourcesContent":["<template>\n    <div>\n        <el-form :model=\"user\"\n                 ref=\"user\"\n                 rules=\"rules\"\n                 label-position=\"left\"\n                 label-width=\"0px\"\n                 class=\"page\">\n            <h3 class=\"title\">用户登录</h3>\n            <el-form-item prop=\"username\">\n                <el-input type=\"text\"\n                          v-model=\"user.name\"\n                          auto-complete=\"off\"\n                          placeholder=\"请输入用户名\"\n                />\n            </el-form-item>\n            <el-form-item prop=\"password\">\n                <el-input type=\"password\"\n                          v-model=\"user.password\"\n                          auto-complete=\"off\"\n                          placeholder=\"请输入密码\"\n                />\n            </el-form-item>\n            <el-checkbox\n                    v-model=\"checked\"\n            >记住密码</el-checkbox>\n            <el-form-item style=\"width:100%;\">\n                <el-button type=\"primary\" style=\"width:100%;\" @click=\"handleLogin\">登录</el-button>\n            </el-form-item>\n            <el-form-item><el-button type=\"text\" @click=\"$router.push('/register')\">还没有账号？点击去注册</el-button> </el-form-item>\n        </el-form>\n    </div>\n</template>\n\n<script>\n    export default {\n        name:\"Login\",\n        data(){\n            const checkName = (rule, value, callback) => {\n                if (!value) {\n                    return callback(new Error('用户名不能为空'));\n                } else{\n                    callback();\n                }\n            };\n            const validatePass = (rule, value, callback) => {\n                if (value === '') {\n                    callback(new Error('请输入密码'));\n                } else {\n                    if (this.user.repeatPassword !== '') {\n                        this.$refs.ruleForm.validateField('checkPass');\n                    }\n                    callback();\n                }\n            };\n            return {\n                uri:\"login\",\n                user: {\n                    name: '',\n                    password: '',\n                    repeatPassword:'',\n                },\n                checked: false,\n                rules:{\n                    name:[\n                        {validator:checkName,trigger:'blur'}\n                    ],\n                    password:[\n                        {validator:validatePass,trigger:'blur'}\n                    ]\n                }\n            }\n        },\n        methods: {\n            handleLogin() {\n                this.$refs['user'].validate((valid) => {\n                    if (valid) {\n                        this.axios.post(this.uri, {\n                            name:this.user.name,\n                            password:this.user.password\n                        })\n                            .then(response =>{\n                                if(response.data.code === 200){\n                                    sessionStorage.setItem('user',this.user.name);\n                                    this.$message('登录成功！');\n                                    this.$router.push('/');\n                                }else{\n                                    this.$alert('账号或密码错误','info',{\n                                        confirmButtonText:'ok'\n                                    })\n                                    this.$refs['form'].resetFields();\n                                }\n                            })\n                    } else {\n                        return false;\n                    }\n                });\n            }\n        }\n    };\n</script>\n\n<style scoped>\n    .page {\n        -webkit-border-radius: 5px;\n        border-radius: 5px;\n        margin: 180px auto;\n        width: 350px;\n        padding: 35px 35px 15px;\n        background: #fff;\n        border: 1px solid #eaeaea;\n        box-shadow: 0 0 25px #cac6c6;\n    }\n    label.el-checkbox {\n        margin: 0px 0px 15px;\n        text-align: left;\n    }\n</style>"],"sourceRoot":"src/fore"}]}