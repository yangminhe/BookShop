{"remainingRequest":"/Volumes/Application/bookshop11/bookshop-vue/node_modules/babel-loader/lib/index.js!/Volumes/Application/bookshop11/bookshop-vue/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Volumes/Application/bookshop11/bookshop-vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/Application/bookshop11/bookshop-vue/src/admin/Product.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Volumes/Application/bookshop11/bookshop-vue/src/admin/Product.vue","mtime":1664395824000},{"path":"/Volumes/Application/bookshop11/bookshop-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/Application/bookshop11/bookshop-vue/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Volumes/Application/bookshop11/bookshop-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/Application/bookshop11/bookshop-vue/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiUHJvZHVjdCIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHVyaTogJ3Byb2R1Y3RzJywKICAgICAgdG90YWw6IDAsCiAgICAgIHBhZ2VOdW06IDEsCiAgICAgIGJlYW46IFtdLAogICAgICBvcHRpb25zOiBbXSwKICAgICAgdmFsdWU6ICcnLAogICAgICBkaWFsb2dGb3JtVmlzaWJsZTogZmFsc2UsCiAgICAgIGZvcm06IHsKICAgICAgICBpZDogJycsCiAgICAgICAgbmFtZTogJycsCiAgICAgICAgcHJpY2U6ICcnLAogICAgICAgIGF1dGhvcjogJycsCiAgICAgICAgcHVibGlzaGVyOiAnJywKICAgICAgICBkaXNjb3VudDogJycsCiAgICAgICAgc3RvY2s6ICcnLAogICAgICAgIGNpZDogJycKICAgICAgfSwKICAgICAgZmlsZUxpc3Q6IFtdCiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgdGhpcy5saXN0KDEpOwogICAgdGhpcy5heGlvcy5nZXQoJ2NhdGVnb3J5JykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgX3RoaXMub3B0aW9ucyA9IHJlc3BvbnNlLmRhdGE7CiAgICB9KTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGxpc3Q6IGZ1bmN0aW9uIGxpc3QocGFnZU51bSkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHZhciB1cmwgPSB0aGlzLnVyaSArICI/cGFnZU51bT0iICsgcGFnZU51bTsKICAgICAgdGhpcy5heGlvcy5nZXQodXJsKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzMi5iZWFuID0gcmVzcG9uc2UuZGF0YS5jb250ZW50OwogICAgICAgIF90aGlzMi50b3RhbCA9IHJlc3BvbnNlLmRhdGEudG90YWxFbGVtZW50czsKICAgICAgfSk7CiAgICB9LAogICAgaGFuZGxlQ3VycmVudENoYW5nZTogZnVuY3Rpb24gaGFuZGxlQ3VycmVudENoYW5nZSh2YWwpIHsKICAgICAgdGhpcy5wYWdlTnVtID0gdmFsOwogICAgICB0aGlzLmxpc3QodmFsKTsKICAgIH0sCiAgICBoYW5kbGVTZWxlY3Q6IGZ1bmN0aW9uIGhhbmRsZVNlbGVjdChpZCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHZhciB1cmwgPSAiY2F0ZWdvcmllcy8iICsgaWQgKyAiL3Byb2R1Y3RzIiArICI/cGFnZU51bT0iICsgdGhpcy5wYWdlTnVtOwogICAgICB0aGlzLmF4aW9zLmdldCh1cmwpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMzLmJlYW4gPSByZXNwb25zZS5kYXRhLmNvbnRlbnQ7CiAgICAgICAgX3RoaXMzLnRvdGFsID0gcmVzcG9uc2UuZGF0YS50b3RhbEVsZW1lbnRzOwogICAgICB9KTsKICAgIH0sCiAgICBoYW5kbGVCYWNrOiBmdW5jdGlvbiBoYW5kbGVCYWNrKCkgewogICAgICB0aGlzLmxpc3QoMSk7CiAgICB9LAogICAgaGFuZGxlT3BlbjogZnVuY3Rpb24gaGFuZGxlT3BlbigpIHsKICAgICAgdGhpcy5mb3JtLmlkID0gJyc7CiAgICAgIHRoaXMuZm9ybS5uYW1lID0gJyc7CiAgICAgIHRoaXMuZm9ybS5wcmljZSA9ICcnOwogICAgICB0aGlzLmZvcm0uYXV0aG9yID0gJyc7CiAgICAgIHRoaXMuZm9ybS5wdWJsaXNoZXIgPSAnJzsKICAgICAgdGhpcy5mb3JtLmRpc2NvdW50ID0gJyc7CiAgICAgIHRoaXMuZm9ybS5zdG9jayA9ICcnOwogICAgICB0aGlzLmZvcm0uY2lkID0gJyc7CiAgICAgIHRoaXMuZmlsZUxpc3QgPSBbXTsKICAgICAgdGhpcy5kaWFsb2dGb3JtVmlzaWJsZSA9IHRydWU7CiAgICB9LAogICAgaGFuZGxlRWRpdDogZnVuY3Rpb24gaGFuZGxlRWRpdCgkaW5kZXgsIHJvdykgewogICAgICB0aGlzLmZvcm0gPSByb3c7CiAgICAgIHRoaXMuZmlsZUxpc3QgPSBbXTsKICAgICAgdGhpcy5kaWFsb2dGb3JtVmlzaWJsZSA9IHRydWU7CiAgICB9LAogICAgaGFuZGxlRmlsZTogZnVuY3Rpb24gaGFuZGxlRmlsZShyZXNwb25zZSkgewogICAgICB0aGlzLmZpbGVMaXN0LnB1c2gocmVzcG9uc2UuZmlsZSk7CiAgICB9LAogICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzCiAgICBoYW5kbGVFeGNlZWQ6IGZ1bmN0aW9uIGhhbmRsZUV4Y2VlZChmaWxlcykgewogICAgICB0aGlzLiRtZXNzYWdlLndhcm5pbmcoIlx1NjcwMFx1NTkxQVx1NEUwQVx1NEYyMCAiLmNvbmNhdChmaWxlcy5sZW5ndGgsICIgXHU0RTJBXHU2NTg3XHU0RUY2IikpOwogICAgfSwKICAgIGhhbmRsZUNhbmNlbDogZnVuY3Rpb24gaGFuZGxlQ2FuY2VsKCkgewogICAgICB0aGlzLmRpYWxvZ0Zvcm1WaXNpYmxlID0gZmFsc2U7CiAgICAgIHRoaXMuJHJlZlsnZm9ybSddLnJlc2V0RmllbGRzKCk7CiAgICAgIHRoaXMubGlzdCgxKTsKICAgIH0sCiAgICBoYW5kbGVBZGQ6IGZ1bmN0aW9uIGhhbmRsZUFkZCgpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICB2YXIgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgZm9ybURhdGEuYXBwZW5kKCduYW1lJywgdGhpcy5mb3JtLm5hbWUpOwogICAgICBmb3JtRGF0YS5hcHBlbmQoJ3ByaWNlJywgdGhpcy5mb3JtLnByaWNlKTsKICAgICAgZm9ybURhdGEuYXBwZW5kKCdhdXRob3InLCB0aGlzLmZvcm0uYXV0aG9yKTsKICAgICAgZm9ybURhdGEuYXBwZW5kKCdwdWJsaXNoZXInLCB0aGlzLmZvcm0ucHVibGlzaGVyKTsKICAgICAgZm9ybURhdGEuYXBwZW5kKCdkaXNjb3VudCcsIHRoaXMuZm9ybS5kaXNjb3VudCk7CiAgICAgIGZvcm1EYXRhLmFwcGVuZCgnc3RvY2snLCB0aGlzLmZvcm0uc3RvY2spOwogICAgICBmb3JtRGF0YS5hcHBlbmQoJ2NpZCcsIHRoaXMuZm9ybS5jaWQpOwogICAgICBmb3JtRGF0YS5hcHBlbmQoJ2ZpbGUnLCB0aGlzLmZpbGVMaXN0WzBdKTsKCiAgICAgIGlmICh0aGlzLmZvcm0uaWQgPT09ICcnKSB7CiAgICAgICAgdGhpcy5heGlvcy5wb3N0KHRoaXMudXJpLCBmb3JtRGF0YSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIGlmICgwICE9IHJlc3BvbnNlLmRhdGEubGVuZ3RoKSB7CiAgICAgICAgICAgIF90aGlzNC5kaWFsb2dGb3JtVmlzaWJsZSA9IGZhbHNlOwoKICAgICAgICAgICAgX3RoaXM0LmhhbmRsZUN1cnJlbnRDaGFuZ2UoMSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIHVybCA9IHRoaXMudXJpICsgIi8iICsgdGhpcy5mb3JtLmlkOwogICAgICAgIHRoaXMuYXhpb3MucHV0KHVybCwgZm9ybURhdGEpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBpZiAoMCAhPSByZXNwb25zZS5kYXRhLmxlbmd0aCkgewogICAgICAgICAgICBfdGhpczQuZGlhbG9nRm9ybVZpc2libGUgPSBmYWxzZTsKCiAgICAgICAgICAgIF90aGlzNC5oYW5kbGVDdXJyZW50Q2hhbmdlKDEpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgaGFuZGxlRGVsZXRlOiBmdW5jdGlvbiBoYW5kbGVEZWxldGUoJGluZGV4LCByb3cpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICB2YXIgdXJsID0gdGhpcy51cmkgKyAiLyIgKyByb3cuaWQ7CiAgICAgIHRoaXMuYXhpb3MuZGVsZXRlKHVybCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBpZiAoMCA9PT0gcmVzcG9uc2UuZGF0YS5sZW5ndGgpIHsKICAgICAgICAgIF90aGlzNS5iZWFuLnNwbGljZSgkaW5kZXgsIDEpOwoKICAgICAgICAgIF90aGlzNS5oYW5kbGVDdXJyZW50Q2hhbmdlKDEpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["Product.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div>\n        <div>\n            <el-dialog title=\"编辑商品\"\n                       :visible.sync=\"dialogFormVisible\"\n                       center\n                       width=\"20%\" >\n                <el-form ref=\"form\"\n                        :model=\"form\"\n                        size=\"mini\">\n                    <el-form-item>\n                        <el-tag v-model=\"form.id\"\n                                v-show=\"false\"/>\n                    </el-form-item>\n                    <el-form-item label=\"商品图片\">\n                        <el-upload\n                                action=\"\"\n                                auto-upload=\"false\"\n                                :http-request=\"handleFile\"\n                                :multiple=\"false\"\n                                :limit=\"1\"\n                                :on-exceed=\"handleExceed\"\n                                :file-list=\"fileList\">\n                            <el-button size=\"small\" type=\"primary\">点击上传</el-button>\n                            <div slot=\"tip\" class=\"el-upload__tip\">只能上传jpg/png文件，且不超过500kb</div>\n                        </el-upload>\n                    </el-form-item>\n                    <el-form-item label=\"商品名称\">\n                        <el-input v-model=\"form.name\"/>\n                    </el-form-item>\n                    <el-form-item label=\"作者\">\n                        <el-input v-model=\"form.author\"/>\n                    </el-form-item>\n                    <el-form-item label=\"价格\">\n                        <el-input v-model=\"form.price\"/>\n                    </el-form-item>\n                    <el-form-item label=\"折扣\">\n                        <el-input v-model=\"form.discount\"/>\n                    </el-form-item>\n                    <el-form-item label=\"出版社\">\n                        <el-input v-model=\"form.publisher\"/>\n                    </el-form-item>\n                    <el-form-item label=\"库存\">\n                        <el-input v-model=\"form.stock\"/>\n                    </el-form-item>\n                    <el-form-item label=\"分类ID\">\n                        <el-input v-model=\"form.cid\"/>\n                    </el-form-item>\n                </el-form>\n                <div slot=\"footer\" class=\"dialog-footer\">\n                    <el-button type=\"primary\" @click=\"handleAdd\">确 定</el-button>\n                    <el-button @click=\"handleCancel\">取 消</el-button>\n                </div>\n            </el-dialog>\n            <el-select v-model=\"value\"\n                       filterable\n                       @change=\"handleSelect\"\n                       clearable\n                       @clear=\"handleBack\"\n                       placeholder=\"选择分类\"\n                       style=\"margin-bottom: 30px\">\n                <el-option\n                        v-for=\"item in options\"\n                        :key=\"item.id\"\n                        :label=\"item.name\"\n                        :value=\"item.id\">\n                </el-option>\n            </el-select>\n            <el-button\n                    type=\"primary\"\n                    icon=\"el-icon-circle-plus-outline\"\n                    @click=\"handleOpen\">添加商品\n            </el-button>\n        </div>\n        <div>\n            <el-table :data=\"bean\">\n                <el-table-column\n                        prop=\"id\"\n                        label=\"商品ID\"\n                        />\n                <el-table-column\n                        prop=\"name\"\n                        label=\"商品名称\"\n                        />\n                <el-table-column\n                        prop=\"image\"\n                        label=\"分类图片\"\n                        >\n                    <template slot-scope=\"scope\">\n                        <el-image\n                                style=\"width: 100px; height: 100px\"\n                                :src=\"scope.row.image\"\n                                fit=\"fill\"/>\n                    </template>\n                </el-table-column>\n                <el-table-column\n                    prop=\"author\"\n                    label=\"作者\"/>\n                <el-table-column\n                        prop=\"price\"\n                        label=\"价格\"/>\n                <el-table-column\n                        prop=\"discount\"\n                        label=\"折扣信息\"/>\n                <el-table-column\n                    prop=\"publisher\"\n                    label=\"出版社\"/>\n                <el-table-column\n                    prop=\"stock\"\n                    label=\"库存\"/>\n                <el-table-column\n                        label=\"操作\">\n                    <template slot-scope=\"scope\">\n                        <el-button\n                                type=\"primary\"\n                                icon=\"el-icon-edit\"\n                                @click=\"handleEdit(scope.$index,scope.row)\">\n                        </el-button>\n                        <el-button\n                                type=\"danger\"\n                                icon=\"el-icon-delete\"\n                                @click=\"handleDelete(scope.$index,scope.row)\">\n                        </el-button>\n                    </template>\n                </el-table-column>\n            </el-table>\n            <el-col :span=\"24\">\n                <el-pagination\n                        background\n                        layout=\"total,prev,pager,next\"\n                        :page-size=\"5\"\n                        :pager-count=\"5\"\n                        @current-change=\"handleCurrentChange\"\n                        :total=\"total\"\n                        :current-page=\"pageNum\"\n                />\n            </el-col>\n        </div>\n    </div>\n</template>\n\n<script>\n    export default {\n        name: \"Product\",\n\n        data(){\n            return{\n                uri:'products',\n                total:0,\n                pageNum:1,\n                bean:[],\n                options:[],\n                value:'',\n                dialogFormVisible:false,\n                form:{\n                    id:'',\n                    name:'',\n                    price:'',\n                    author:'',\n                    publisher:'',\n                    discount:'',\n                    stock:'',\n                    cid:'',\n                },\n                fileList:[]\n            }\n        },\n\n        mounted() {\n            this.list(1);\n            this.axios.get('category')\n                .then(response => {\n                    this.options = response.data;\n            })\n        },\n\n        methods: {\n            list(pageNum) {\n                let url = this.uri + \"?pageNum=\" + pageNum;\n                this.axios.get(url)\n                    .then(response => {\n                        this.bean = response.data.content;\n                        this.total = response.data.totalElements;\n                    })\n            },\n            handleCurrentChange(val) {\n                this.pageNum = val;\n                this.list(val);\n            },\n            handleSelect(id){\n                let url = \"categories/\" + id + \"/products\" + \"?pageNum=\" + this.pageNum;\n                this.axios.get(url)\n                    .then(\n                        response => {\n                            this.bean = response.data.content;\n                            this.total = response.data.totalElements;\n                        }\n                    )\n            },\n            handleBack(){\n              this.list(1);\n            },\n            handleOpen(){\n                this.form.id = '';\n                this.form.name = '';\n                this.form.price = '';\n                this.form.author = '';\n                this.form.publisher = '';\n                this.form.discount = '';\n                this.form.stock = '';\n                this.form.cid = '';\n                this.fileList = [];\n                this.dialogFormVisible = true;\n            },\n            handleEdit($index,row){\n                this.form = row;\n                this.fileList = [];\n                this.dialogFormVisible = true;\n            },\n            handleFile(response) {\n                this.fileList.push(response.file)\n            },\n            // eslint-disable-next-line no-unused-vars\n            handleExceed(files) {\n                this.$message.warning(`最多上传 ${files.length} 个文件`)\n            },\n            handleCancel(){\n                this.dialogFormVisible = false;\n                this.$ref['form'].resetFields();\n                this.list(1);\n            },\n            handleAdd(){\n                let formData = new FormData();\n                formData.append('name', this.form.name);\n                formData.append('price', this.form.price);\n                formData.append('author', this.form.author);\n                formData.append('publisher', this.form.publisher);\n                formData.append('discount', this.form.discount);\n                formData.append('stock', this.form.stock);\n                formData.append('cid',this.form.cid);\n                formData.append('file', this.fileList[0]);\n                if(this.form.id === ''){\n                    this.axios.post(this.uri, formData)\n                        .then(response => {\n                            if(0 != response.data.length) {\n                                this.dialogFormVisible = false;\n                                this.handleCurrentChange(1);\n                            }\n                        })\n                }else{\n                    let url= this.uri + \"/\" + this.form.id;\n                    this.axios.put(url, formData)\n                        .then(response => {\n                            if(0 != response.data.length) {\n                                this.dialogFormVisible = false;\n                                this.handleCurrentChange(1);\n                            }\n                        })\n                }\n            },\n            handleDelete($index,row){\n                let url = this.uri + \"/\" + row.id;\n                this.axios.delete(url)\n                    .then(response => {\n                        if( 0 === response.data.length ) {\n                            this.bean.splice($index, 1);\n                            this.handleCurrentChange(1);\n                        }\n                    });\n            }\n        }\n    }\n</script>\n\n<style scoped>\n\n</style>"],"sourceRoot":"src/admin"}]}