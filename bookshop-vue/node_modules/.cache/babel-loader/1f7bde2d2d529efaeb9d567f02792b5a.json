{"remainingRequest":"/Volumes/Application/bookshop/bookshop-vue/node_modules/babel-loader/lib/index.js!/Volumes/Application/bookshop/bookshop-vue/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Volumes/Application/bookshop/bookshop-vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/Application/bookshop/bookshop-vue/src/fore/Register.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Volumes/Application/bookshop/bookshop-vue/src/fore/Register.vue","mtime":1664406073493},{"path":"/Volumes/Application/bookshop/bookshop-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/Application/bookshop/bookshop-vue/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Volumes/Application/bookshop/bookshop-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/Application/bookshop/bookshop-vue/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiUmVnaXN0ZXIiLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHZhciBjaGVja05hbWUgPSBmdW5jdGlvbiBjaGVja05hbWUocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSB7CiAgICAgIGlmICghdmFsdWUpIHsKICAgICAgICByZXR1cm4gY2FsbGJhY2sobmV3IEVycm9yKCfnlKjmiLflkI3kuI3og73kuLrnqbonKSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY2FsbGJhY2soKTsKICAgICAgfQogICAgfTsKCiAgICB2YXIgdmFsaWRhdGVQYXNzID0gZnVuY3Rpb24gdmFsaWRhdGVQYXNzKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgewogICAgICBpZiAodmFsdWUgPT09ICcnKSB7CiAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCfor7fovpPlhaXlr4bnoIEnKSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKF90aGlzLnVzZXIucmVwZWF0UGFzc3dvcmQgIT09ICcnKSB7CiAgICAgICAgICBfdGhpcy4kcmVmcy5ydWxlRm9ybS52YWxpZGF0ZUZpZWxkKCdjaGVja1Bhc3MnKTsKICAgICAgICB9CgogICAgICAgIGNhbGxiYWNrKCk7CiAgICAgIH0KICAgIH07CgogICAgdmFyIHZhbGlkYXRlUGFzczIgPSBmdW5jdGlvbiB2YWxpZGF0ZVBhc3MyKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgewogICAgICBpZiAodmFsdWUgPT09ICcnKSB7CiAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCfor7flho3mrKHovpPlhaXlr4bnoIEnKSk7CiAgICAgIH0gZWxzZSBpZiAodmFsdWUgIT09IF90aGlzLnVzZXIucGFzc3dvcmQpIHsKICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoJ+S4pOasoei+k+WFpeWvhueggeS4jeS4gOiHtCEnKSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY2FsbGJhY2soKTsKICAgICAgfQogICAgfTsKCiAgICByZXR1cm4gewogICAgICB1cmk6ICJyZWdpc3RlciIsCiAgICAgIHVzZXI6IHsKICAgICAgICBuYW1lOiAnJywKICAgICAgICBwYXNzd29yZDogJycsCiAgICAgICAgcmVwZWF0UGFzc3dvcmQ6ICcnCiAgICAgIH0sCiAgICAgIGNoZWNrZWQ6IGZhbHNlLAogICAgICBydWxlczogewogICAgICAgIG5hbWU6IFt7CiAgICAgICAgICB2YWxpZGF0b3I6IGNoZWNrTmFtZSwKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dLAogICAgICAgIHBhc3N3b3JkOiBbewogICAgICAgICAgdmFsaWRhdG9yOiB2YWxpZGF0ZVBhc3MsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XSwKICAgICAgICByZXBlYXRQYXNzd29yZDogW3sKICAgICAgICAgIHZhbGlkYXRvcjogdmFsaWRhdGVQYXNzMiwKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dCiAgICAgIH0KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBoYW5kbGVSZWdpc3RyeTogZnVuY3Rpb24gaGFuZGxlUmVnaXN0cnkoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy4kcmVmc1sndXNlciddLnZhbGlkYXRlKGZ1bmN0aW9uICh2YWxpZCkgewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgX3RoaXMyLmF4aW9zLnBvc3QoX3RoaXMyLnVyaSwgewogICAgICAgICAgICBuYW1lOiBfdGhpczIudXNlci5uYW1lLAogICAgICAgICAgICBwYXNzd29yZDogX3RoaXMyLnVzZXIucGFzc3dvcmQKICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgIF90aGlzMi4kbWVzc2FnZSgn5rOo5YaM5oiQ5Yqf77yBJyk7CgogICAgICAgICAgICAgIF90aGlzMi4kcm91dGVyLnB1c2goJy9sb2dpbicpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIF90aGlzMi4kYWxlcnQoJ+eUqOaIt+WQjeW3suiiq+WNoOeUqO+8jOivt+mHjeaWsOazqOWGjCcsICdpbmZvJywgewogICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICdvaycKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgX3RoaXMyLiRyZWZzWydmb3JtJ10ucmVzZXRGaWVsZHMoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["Register.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div>\n        <el-form :model=\"user\"\n                 ref=\"user\"\n                 rules=\"rules\"\n                 label-position=\"left\"\n                 label-width=\"0px\"\n                 class=\"page\">\n            <h3 class=\"title\">用户注册</h3>\n            <el-form-item prop=\"username\">\n                <el-input type=\"text\"\n                          v-model=\"user.name\"\n                          auto-complete=\"off\"\n                          placeholder=\"请输入用户名\"\n                />\n                <el-input pel-input type=\"password\"\n                          v-model=\"user.password\"\n                          auto-complete=\"off\"\n                          placeholder=\"请输入密码\"\n                />\n            </el-form-item>\n            <el-form-item prop=\"password\">\n                <el-input type=\"password\"\n                          v-model=\"user.repeatPassword\"\n                          auto-complete=\"off\"\n                          placeholder=\"密码确认\"\n                />\n            </el-form-item>\n            <el-checkbox\n                    v-model=\"checked\"\n            >记住密码</el-checkbox>\n            <el-form-item style=\"width:100%;\">\n                <el-button type=\"primary\" style=\"width:100%;\" @click=\"handleRegistry\">注册</el-button>\n            </el-form-item>\n        </el-form>\n    </div>\n</template>\n\n<script>\n    export default {\n        name:\"Register\",\n        data(){\n            const checkName = (rule, value, callback) => {\n                if (!value) {\n                    return callback(new Error('用户名不能为空'));\n                } else{\n                    callback();\n                }\n            };\n            const validatePass = (rule, value, callback) => {\n                if (value === '') {\n                    callback(new Error('请输入密码'));\n                } else {\n                    if (this.user.repeatPassword !== '') {\n                        this.$refs.ruleForm.validateField('checkPass');\n                    }\n                    callback();\n                }\n            };\n            const validatePass2 = (rule, value, callback) => {\n                if (value === '') {\n                    callback(new Error('请再次输入密码'));\n                } else if (value !== this.user.password) {\n                    callback(new Error('两次输入密码不一致!'));\n                } else {\n                    callback();\n                }\n            };\n            return {\n                uri:\"register\",\n                user: {\n                    name: '',\n                    password: '',\n                    repeatPassword:'',\n                },\n                checked: false,\n                rules:{\n                    name:[\n                        {validator:checkName,trigger:'blur'}\n                    ],\n                    password:[\n                        {validator:validatePass,trigger:'blur'}\n                    ],\n                    repeatPassword:[\n                        {validator:validatePass2,trigger:'blur'}\n                    ]\n                }\n            }\n        },\n        methods: {\n            handleRegistry() {\n                this.$refs['user'].validate((valid) => {\n                    if (valid) {\n                        this.axios.post(this.uri,{\n                            name:this.user.name,\n                            password:this.user.password\n                        })\n                            .then(response =>{\n                                if(response.data.code === 200){\n                                    this.$message('注册成功！');\n                                    this.$router.push('/login');\n                                }else{\n                                    this.$alert('用户名已被占用，请重新注册','info',{\n                                        confirmButtonText:'ok'\n                                    })\n                                    this.$refs['form'].resetFields();\n                                }\n                            })\n                    } else {\n                        return false;\n                    }\n                });\n            }\n        }\n    };\n</script>\n\n<style scoped>\n    .page {\n        -webkit-border-radius: 5px;\n        border-radius: 5px;\n        margin: 180px auto;\n        width: 350px;\n        padding: 35px 35px 15px;\n        background: #fff;\n        border: 1px solid #eaeaea;\n        box-shadow: 0 0 25px #cac6c6;\n    }\n    label.el-checkbox {\n        margin: 0px 0px 15px;\n        text-align: left;\n    }\n</style>"],"sourceRoot":"src/fore"}]}