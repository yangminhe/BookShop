{"remainingRequest":"/Volumes/Application/bookshop11/bookshop-vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/Application/bookshop11/bookshop-vue/src/fore/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Volumes/Application/bookshop11/bookshop-vue/src/fore/Login.vue","mtime":1665078122000},{"path":"/Volumes/Application/bookshop11/bookshop-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/Application/bookshop11/bookshop-vue/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Volumes/Application/bookshop11/bookshop-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/Application/bookshop11/bookshop-vue/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8qIGVzbGludC1kaXNhYmxlICovCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiTG9naW4iLAogIGRhdGEoKSB7CiAgICBjb25zdCBjaGVja05hbWUgPSAocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSA9PiB7CiAgICAgIGlmICghdmFsdWUpIHsKICAgICAgICByZXR1cm4gY2FsbGJhY2sobmV3IEVycm9yKCLnlKjmiLflkI3kuI3og73kuLrnqboiKSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY2FsbGJhY2soKTsKICAgICAgfQogICAgfTsKICAgIGNvbnN0IHZhbGlkYXRlUGFzcyA9IChydWxlLCB2YWx1ZSwgY2FsbGJhY2spID0+IHsKICAgICAgaWYgKHZhbHVlID09PSAiIikgewogICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcigi6K+36L6T5YWl5a+G56CBIikpOwogICAgICB9IGVsc2UgewogICAgICAgIGlmICh0aGlzLnVzZXIucmVwZWF0UGFzc3dvcmQgIT09ICIiKSB7CiAgICAgICAgICB0aGlzLiRyZWZzLnJ1bGVGb3JtLnZhbGlkYXRlRmllbGQoImNoZWNrUGFzcyIpOwogICAgICAgIH0KICAgICAgICBjYWxsYmFjaygpOwogICAgICB9CiAgICB9OwogICAgcmV0dXJuIHsKICAgICAgdXJpOiAibG9naW4iLAogICAgICB1c2VyOiB7CiAgICAgICAgbmFtZTogIiIsCiAgICAgICAgcGFzc3dvcmQ6ICIiLAogICAgICAgIHJlcGVhdFBhc3N3b3JkOiAiIiwKICAgICAgfSwKICAgICAgY2hlY2tlZDogZmFsc2UsCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgbmFtZTogW3sgdmFsaWRhdG9yOiBjaGVja05hbWUsIHRyaWdnZXI6ICJibHVyIiB9XSwKICAgICAgICBwYXNzd29yZDogW3sgdmFsaWRhdG9yOiB2YWxpZGF0ZVBhc3MsIHRyaWdnZXI6ICJibHVyIiB9XSwKICAgICAgfSwKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBoYW5kbGVMb2dpbigpIHsKICAgICAgLy8gZGVidWdnZXI7CiAgICAgIC8vIHRoaXMuJHJlZnNbJ3VzZXInXS52YWxpZGF0ZSgodmFsaWQpID0+IHsKICAgICAgaWYgKDEgPT0gMSkgewogICAgICAgIC8vIGlmICh2YWxpZCkgewogICAgICAgIHRoaXMuYXhpb3MKICAgICAgICAgIC5wb3N0KHRoaXMudXJpLCB7CiAgICAgICAgICAgIG5hbWU6IHRoaXMudXNlci5uYW1lLAogICAgICAgICAgICBwYXNzd29yZDogdGhpcy51c2VyLnBhc3N3b3JkLAogICAgICAgICAgfSkKICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5jb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCJ1c2VyIiwgdGhpcy51c2VyLm5hbWUpOwogICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoIueZu+W9leaIkOWKn++8gSIpOwogICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvIik7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgdGhpcy4kYWxlcnQoIui0puWPt+aIluWvhueggemUmeivryIsICJpbmZvIiwgewogICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICJvayIsCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgdGhpcy4kcmVmc1siZm9ybSJdLnJlc2V0RmllbGRzKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICAvLyB9KTsKICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/fore","sourcesContent":["<template>\n  <div>\n    <el-form\n      :model=\"user\"\n      ref=\"user\"\n      rules=\"rules\"\n      label-position=\"left\"\n      label-width=\"0px\"\n      class=\"page\"\n    >\n      <h3 class=\"title\">用户登录</h3>\n      <el-form-item prop=\"username\">\n        <el-input\n          type=\"text\"\n          v-model=\"user.name\"\n          auto-complete=\"off\"\n          placeholder=\"请输入用户名\"\n        />\n      </el-form-item>\n      <el-form-item prop=\"password\">\n        <el-input\n          type=\"password\"\n          v-model=\"user.password\"\n          auto-complete=\"off\"\n          placeholder=\"请输入密码\"\n        />\n      </el-form-item>\n      <el-checkbox v-model=\"checked\">记住密码</el-checkbox>\n      <el-form-item style=\"width: 100%\">\n        <el-button type=\"primary\" style=\"width: 100%\" @click=\"handleLogin\"\n          >登录</el-button\n        >\n      </el-form-item>\n      <el-form-item\n        ><el-button type=\"text\" @click=\"$router.push('/register')\"\n          >还没有账号？点击去注册</el-button\n        >\n      </el-form-item>\n    </el-form>\n  </div>\n</template>\n\n<script>\n/* eslint-disable */\nexport default {\n  name: \"Login\",\n  data() {\n    const checkName = (rule, value, callback) => {\n      if (!value) {\n        return callback(new Error(\"用户名不能为空\"));\n      } else {\n        callback();\n      }\n    };\n    const validatePass = (rule, value, callback) => {\n      if (value === \"\") {\n        callback(new Error(\"请输入密码\"));\n      } else {\n        if (this.user.repeatPassword !== \"\") {\n          this.$refs.ruleForm.validateField(\"checkPass\");\n        }\n        callback();\n      }\n    };\n    return {\n      uri: \"login\",\n      user: {\n        name: \"\",\n        password: \"\",\n        repeatPassword: \"\",\n      },\n      checked: false,\n      rules: {\n        name: [{ validator: checkName, trigger: \"blur\" }],\n        password: [{ validator: validatePass, trigger: \"blur\" }],\n      },\n    };\n  },\n  methods: {\n    handleLogin() {\n      // debugger;\n      // this.$refs['user'].validate((valid) => {\n      if (1 == 1) {\n        // if (valid) {\n        this.axios\n          .post(this.uri, {\n            name: this.user.name,\n            password: this.user.password,\n          })\n          .then((response) => {\n            if (response.data.code === 200) {\n              sessionStorage.setItem(\"user\", this.user.name);\n              this.$message(\"登录成功！\");\n              this.$router.push(\"/\");\n            } else {\n              this.$alert(\"账号或密码错误\", \"info\", {\n                confirmButtonText: \"ok\",\n              });\n              this.$refs[\"form\"].resetFields();\n            }\n          });\n      } else {\n        return false;\n      }\n      // });\n    },\n  },\n};\n</script>\n\n<style scoped>\n.page {\n  -webkit-border-radius: 5px;\n  border-radius: 5px;\n  margin: 180px auto;\n  width: 350px;\n  padding: 35px 35px 15px;\n  background: #fff;\n  border: 1px solid #eaeaea;\n  box-shadow: 0 0 25px #cac6c6;\n}\nlabel.el-checkbox {\n  margin: 0px 0px 15px;\n  text-align: left;\n}\n</style>"]}]}