{"remainingRequest":"/Volumes/Application/bookshop11/bookshop-vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/Application/bookshop11/bookshop-vue/src/fore/Register.vue?vue&type=style&index=0&id=10f4c6a6&scoped=true&lang=css&","dependencies":[{"path":"/Volumes/Application/bookshop11/bookshop-vue/src/fore/Register.vue","mtime":1664489668000},{"path":"/Volumes/Application/bookshop11/bookshop-vue/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/Application/bookshop11/bookshop-vue/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Volumes/Application/bookshop11/bookshop-vue/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Volumes/Application/bookshop11/bookshop-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/Application/bookshop11/bookshop-vue/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmVsLWZvcm0taXRlbXsKICAgIG1hcmdpbi1ib3R0b206IDBweDsKfQouZWwtaW5wdXR7CiAgICBtYXJnaW4tYm90dG9tOiAyMHB4Owp9CgoucGFnZSB7CiAgICAtd2Via2l0LWJvcmRlci1yYWRpdXM6IDVweDsKICAgIGJvcmRlci1yYWRpdXM6IDVweDsKICAgIG1hcmdpbjogMTgwcHggYXV0bzsKICAgIHdpZHRoOiAzNTBweDsKICAgIHBhZGRpbmc6IDM1cHggMzVweCAxNXB4OwogICAgYmFja2dyb3VuZDogI2ZmZjsKICAgIGJvcmRlcjogMXB4IHNvbGlkICNlYWVhZWE7CiAgICBib3gtc2hhZG93OiAwIDAgMjVweCAjY2FjNmM2Owp9CmxhYmVsLmVsLWNoZWNrYm94IHsKICAgIG1hcmdpbjogMHB4IDBweCAxNXB4OwogICAgdGV4dC1hbGlnbjogbGVmdDsKfQo="},{"version":3,"sources":["Register.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwHA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Register.vue","sourceRoot":"src/fore","sourcesContent":["<template>\n    <div>\n        <el-form :model=\"user\"\n                 ref=\"user\"\n                 rules=\"rules\"\n                 label-position=\"left\"\n                 label-width=\"0px\"\n                 class=\"page\">\n            <h3 class=\"title\">用户注册</h3>\n            <el-form-item prop=\"username\">\n                <el-input type=\"text\"\n                          v-model=\"user.name\"\n                          auto-complete=\"off\"\n                          placeholder=\"请输入用户名\"\n                />\n    \n                <el-input pel-input type=\"password\"\n                          v-model=\"user.password\"\n                          auto-complete=\"off\"\n                          placeholder=\"请输入密码\"\n                />\n            </el-form-item>\n            <el-form-item prop=\"password\">\n                <el-input type=\"password\"\n                          v-model=\"user.repeatPassword\"\n                          auto-complete=\"off\"\n                          placeholder=\"密码确认\"\n                />\n            </el-form-item>\n            <el-checkbox\n                    v-model=\"checked\"\n            >记住密码</el-checkbox>\n            <el-form-item style=\"width:100%;\">\n                <el-button type=\"primary\" style=\"width:100%;\" @click=\"handleRegistry\">注册</el-button>\n            </el-form-item>\n        </el-form>\n    </div>\n</template>\n\n<script>\n    export default {\n        name:\"Register\",\n        data(){\n            const checkName = (rule, value, callback) => {\n                if (!value) {\n                    return callback(new Error('用户名不能为空'));\n                } else{\n                    callback();\n                }\n            };\n            const validatePass = (rule, value, callback) => {\n                if (value === '') {\n                    callback(new Error('请输入密码'));\n                } else {\n                    if (this.user.repeatPassword !== '') {\n                        this.$refs.ruleForm.validateField('checkPass');\n                    }\n                    callback();\n                }\n            };\n            const validatePass2 = (rule, value, callback) => {\n                if (value === '') {\n                    callback(new Error('请再次输入密码'));\n                } else if (value !== this.user.password) {\n                    callback(new Error('两次输入密码不一致!'));\n                } else {\n                    callback();\n                }\n            };\n            return {\n                uri:\"register\",\n                user: {\n                    name: '',\n                    password: '',\n                    repeatPassword:'',\n                },\n                checked: false,\n                rules:{\n                    name:[\n                        {validator:checkName,trigger:'blur'}\n                    ],\n                    password:[\n                        {validator:validatePass,trigger:'blur'}\n                    ],\n                    repeatPassword:[\n                        {validator:validatePass2,trigger:'blur'}\n                    ]\n                }\n            }\n        },\n        methods: {\n            handleRegistry() {\n                this.$refs['user'].validate((valid) => {\n                    if (valid) {\n                        this.axios.post(this.uri,{\n                            name:this.user.name,\n                            password:this.user.password\n                        })\n                            .then(response =>{\n                                if(response.data.code === 200){\n                                    this.$message('注册成功！');\n                                    this.$router.push('/login');\n                                }else{\n                                    this.$alert('用户名已被占用，请重新注册','info',{\n                                        confirmButtonText:'ok'\n                                    })\n                                    this.$refs['form'].resetFields();\n                                }\n                            })\n                    } else {\n                        return false;\n                    }\n                });\n            }\n        }\n    };\n</script>\n\n<style scoped>\n\n    .el-form-item{\n        margin-bottom: 0px;\n    }\n    .el-input{\n        margin-bottom: 20px;\n    }\n\n    .page {\n        -webkit-border-radius: 5px;\n        border-radius: 5px;\n        margin: 180px auto;\n        width: 350px;\n        padding: 35px 35px 15px;\n        background: #fff;\n        border: 1px solid #eaeaea;\n        box-shadow: 0 0 25px #cac6c6;\n    }\n    label.el-checkbox {\n        margin: 0px 0px 15px;\n        text-align: left;\n    }\n</style>"]}]}