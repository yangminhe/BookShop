{"remainingRequest":"/Volumes/Application/bookshop11/bookshop-vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/Application/bookshop11/bookshop-vue/src/fore/Login.vue?vue&type=style&index=0&id=148d1462&scoped=true&lang=css&","dependencies":[{"path":"/Volumes/Application/bookshop11/bookshop-vue/src/fore/Login.vue","mtime":1665078122000},{"path":"/Volumes/Application/bookshop11/bookshop-vue/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/Application/bookshop11/bookshop-vue/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Volumes/Application/bookshop11/bookshop-vue/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Volumes/Application/bookshop11/bookshop-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/Application/bookshop11/bookshop-vue/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLnBhZ2UgewogIC13ZWJraXQtYm9yZGVyLXJhZGl1czogNXB4OwogIGJvcmRlci1yYWRpdXM6IDVweDsKICBtYXJnaW46IDE4MHB4IGF1dG87CiAgd2lkdGg6IDM1MHB4OwogIHBhZGRpbmc6IDM1cHggMzVweCAxNXB4OwogIGJhY2tncm91bmQ6ICNmZmY7CiAgYm9yZGVyOiAxcHggc29saWQgI2VhZWFlYTsKICBib3gtc2hhZG93OiAwIDAgMjVweCAjY2FjNmM2Owp9CmxhYmVsLmVsLWNoZWNrYm94IHsKICBtYXJnaW46IDBweCAwcHggMTVweDsKICB0ZXh0LWFsaWduOiBsZWZ0Owp9Cg=="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/fore","sourcesContent":["<template>\n  <div>\n    <el-form\n      :model=\"user\"\n      ref=\"user\"\n      rules=\"rules\"\n      label-position=\"left\"\n      label-width=\"0px\"\n      class=\"page\"\n    >\n      <h3 class=\"title\">用户登录</h3>\n      <el-form-item prop=\"username\">\n        <el-input\n          type=\"text\"\n          v-model=\"user.name\"\n          auto-complete=\"off\"\n          placeholder=\"请输入用户名\"\n        />\n      </el-form-item>\n      <el-form-item prop=\"password\">\n        <el-input\n          type=\"password\"\n          v-model=\"user.password\"\n          auto-complete=\"off\"\n          placeholder=\"请输入密码\"\n        />\n      </el-form-item>\n      <el-checkbox v-model=\"checked\">记住密码</el-checkbox>\n      <el-form-item style=\"width: 100%\">\n        <el-button type=\"primary\" style=\"width: 100%\" @click=\"handleLogin\"\n          >登录</el-button\n        >\n      </el-form-item>\n      <el-form-item\n        ><el-button type=\"text\" @click=\"$router.push('/register')\"\n          >还没有账号？点击去注册</el-button\n        >\n      </el-form-item>\n    </el-form>\n  </div>\n</template>\n\n<script>\n/* eslint-disable */\nexport default {\n  name: \"Login\",\n  data() {\n    const checkName = (rule, value, callback) => {\n      if (!value) {\n        return callback(new Error(\"用户名不能为空\"));\n      } else {\n        callback();\n      }\n    };\n    const validatePass = (rule, value, callback) => {\n      if (value === \"\") {\n        callback(new Error(\"请输入密码\"));\n      } else {\n        if (this.user.repeatPassword !== \"\") {\n          this.$refs.ruleForm.validateField(\"checkPass\");\n        }\n        callback();\n      }\n    };\n    return {\n      uri: \"login\",\n      user: {\n        name: \"\",\n        password: \"\",\n        repeatPassword: \"\",\n      },\n      checked: false,\n      rules: {\n        name: [{ validator: checkName, trigger: \"blur\" }],\n        password: [{ validator: validatePass, trigger: \"blur\" }],\n      },\n    };\n  },\n  methods: {\n    handleLogin() {\n      // debugger;\n      // this.$refs['user'].validate((valid) => {\n      if (1 == 1) {\n        // if (valid) {\n        this.axios\n          .post(this.uri, {\n            name: this.user.name,\n            password: this.user.password,\n          })\n          .then((response) => {\n            if (response.data.code === 200) {\n              sessionStorage.setItem(\"user\", this.user.name);\n              this.$message(\"登录成功！\");\n              this.$router.push(\"/\");\n            } else {\n              this.$alert(\"账号或密码错误\", \"info\", {\n                confirmButtonText: \"ok\",\n              });\n              this.$refs[\"form\"].resetFields();\n            }\n          });\n      } else {\n        return false;\n      }\n      // });\n    },\n  },\n};\n</script>\n\n<style scoped>\n.page {\n  -webkit-border-radius: 5px;\n  border-radius: 5px;\n  margin: 180px auto;\n  width: 350px;\n  padding: 35px 35px 15px;\n  background: #fff;\n  border: 1px solid #eaeaea;\n  box-shadow: 0 0 25px #cac6c6;\n}\nlabel.el-checkbox {\n  margin: 0px 0px 15px;\n  text-align: left;\n}\n</style>"]}]}